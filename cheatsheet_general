Voi analiza folderul pentru a Ã®nÈ›elege ce conÈ›ine È™i apoi voi crea un cheat sheet complet pentru examenul tÄƒu!# ğŸ“Š CHEAT SHEET ULTIM - Data Science cu Pandas & NumPy

## ğŸ¯ VIZIUNE MACRO: WORKFLOW-UL DE ANALIZÄ‚ A DATELOR

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATE BRUTE     â”‚  (CSV-uri cu date despre industrie, populaÈ›ie)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ÃNCÄ‚RCARE   â”‚  pd.read_csv() â†’ DataFrame
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. CURÄ‚ÈšARE    â”‚  Filtrare, eliminare valori lipsa (NaN)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. TRANSFORMAREâ”‚  Calcule, normalizÄƒri, ponderi
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. COMBINARE   â”‚  Merge/Join multiple tabele
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. AGREGARE    â”‚  GroupBy - sumarizare pe categorii
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. EXPORT      â”‚  to_csv() â†’ Rezultate finale
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š FUNCÈšII ESENÈšIALE - INPUT/OUTPUT

### ğŸ”µ **1. ÃNCÄ‚RCAREA DATELOR**

#### `pd.read_csv(filepath, index_col=0)`
- **INPUT**: Cale cÄƒtre fiÈ™ier CSV
- **OUTPUT**: DataFrame
- **DE CE**: TransformÄƒ date din format text Ã®n structurÄƒ tabularÄƒ manipulabilÄƒ
```python
df = pd.read_csv("data_in/IndustriaAlimentara.csv", index_col=0)
# index_col=0 â†’ prima coloanÄƒ devine index (rÃ¢nduri)
```

---

### ğŸ”µ **2. FILTRAREA DATELOR**

#### Filtrare cu CondiÈ›ii Booleene
- **INPUT**: DataFrame + condiÈ›ie logicÄƒ
- **OUTPUT**: DataFrame filtrat (doar rÃ¢ndurile care Ã®ndeplinesc condiÈ›ia)
- **DE CE**: EliminÄƒm date irelevante/invalide

```python
# CalculÄƒm suma pe fiecare rÃ¢nd
numar_angajati = df[industrii].apply(func=lambda x: x.sum(), axis=1)

# FiltrÄƒm: pÄƒstrÄƒm doar localitÄƒÈ›ile cu angajaÈ›i > 0
df_filtrat = df[numar_angajati > 0]
```

**Visual**:
```
ÃNAINTE:                    DUPÄ‚:
OraÈ™ A: 100 angajaÈ›i   â†’   OraÈ™ A: 100 angajaÈ›i
OraÈ™ B: 0 angajaÈ›i     â†’   (eliminat)
OraÈ™ C: 50 angajaÈ›i    â†’   OraÈ™ C: 50 angajaÈ›i
```

---

### ğŸ”µ **3. APLICAREA FUNCÈšIILOR**

#### `apply(func, axis)`
- **INPUT**: FuncÈ›ie + direcÈ›ie (axis=0 coloane, axis=1 rÃ¢nduri)
- **OUTPUT**: Serie sau DataFrame cu rezultatele
- **DE CE**: AplicÄƒm aceeaÈ™i operaÈ›ie pe toate rÃ¢ndurile/coloanele

```python
# NORMALIZARE: fiecare valoare Ã®mpÄƒrÈ›itÄƒ la suma rÃ¢ndului
df_normalizat = df[industrii].apply(func=lambda x: x/x.sum(), axis=1)
```

**Visual**:
```
ÃNAINTE (valori absolute):          DUPÄ‚ (procente):
Industrie1  Industrie2             Industrie1  Industrie2
    100         50        â†’            0.67        0.33
    200        100        â†’            0.67        0.33
```

---

### ğŸ”µ **4. GESTIONAREA VALORILOR LIPSÄ‚**

#### `fillna(valoare, inplace=True)`
- **INPUT**: Valoare de Ã®nlocuire
- **OUTPUT**: DataFrame fÄƒrÄƒ NaN
- **DE CE**: EvitÄƒm erori Ã®n calcule; NaN apare cÃ¢nd Ã®mpÄƒrÈ›im la 0 sau avem date lipsÄƒ

```python
df.fillna(0, inplace=True)  # ÃnlocuieÈ™te toate NaN cu 0
```

---

### ğŸ”µ **5. COMBINAREA TABELELOR (JOIN)**

#### `merge(alt_df, left_on, right_on, left_index, right_index)`
- **INPUT**: DouÄƒ DataFrame-uri + coloana/index-ul de legÄƒturÄƒ
- **OUTPUT**: DataFrame combinat
- **DE CE**: Unim informaÈ›ii din surse diferite (ex: populaÈ›ie + industrie)

```python
# Jonctiune pe INDEX
df_complet = industria_alimentara.merge(populatia, 
                                        left_index=True, 
                                        right_index=True)

# Jonctiune pe COLOANÄ‚
df_complet = df1.merge(coduri_judete, 
                       left_on="Judet",      # coloanÄƒ din df1
                       right_index=True)     # index din coduri_judete
```

**Visual**:
```
TABEL 1 (Industrie):        TABEL 2 (PopulaÈ›ie):      REZULTAT:
Index  AngajaÈ›i            Index  PopulaÈ›ie          Index  AngajaÈ›i  PopulaÈ›ie
OraÈ™1    100               OraÈ™1    50000            OraÈ™1    100       50000
OraÈ™2    200               OraÈ™2    80000            OraÈ™2    200       80000
```

---

### ğŸ”µ **6. AGREGAREA CU GROUPBY**

#### `groupby(by).sum()` / `.apply(func)`
- **INPUT**: Coloana de grupare + funcÈ›ie de agregare
- **OUTPUT**: DataFrame/Serie agregat
- **DE CE**: SumarizÄƒm date la nivel superior (ex: de la localitÄƒÈ›i la judeÈ›e)

```python
# GrupÄƒm localitÄƒÈ›i pe judeÈ›e È™i sumÄƒm angajaÈ›ii
df_judet = df[industrii + ["Populatie", "Judet"]].groupby(by="Judet").sum()
```

**Visual**:
```
ÃNAINTE (LocalitÄƒÈ›i):               DUPÄ‚ (JudeÈ›e):
OraÈ™1  Judet: BUC  AngajaÈ›i: 100   BUC  AngajaÈ›i: 300
OraÈ™2  Judet: BUC  AngajaÈ›i: 200   CJ   AngajaÈ›i: 150
OraÈ™3  Judet: CJ   AngajaÈ›i: 150
```

---

### ğŸ”µ **7. CALCULE PE RÃ‚NDURI/COLOANE**

#### `axis=0` vs `axis=1`
- **axis=1**: OperaÈ›ie pe fiecare RÃ‚ND (â†’ horizontal)
- **axis=0**: OperaÈ›ie pe fiecare COLOANÄ‚ (â†“ vertical)

```python
# RÃ‚ND: ÃmpÄƒrÈ›im fiecare industrie din rÃ¢nd la PopulaÈ›ie
pondere = df.apply(func=lambda x: x[industrii] / x["Populatie"], axis=1)

# COLOANÄ‚: SumÄƒm toate valorile pe verticalÄƒ
total_national = df.sum(axis=0)
```

---

### ğŸ”µ **8. GÄ‚SIREA MAXIMULUI**

#### `argmax()` / `idxmax()`
- **INPUT**: Serie sau DataFrame
- **OUTPUT**: INDEX-ul valorii maxime
- **DE CE**: IdentificÄƒm categoria dominantÄƒ

```python
# Pentru fiecare judeÈ›, gÄƒsim industria cu cei mai mulÈ›i angajaÈ›i
activitate_principala = df.apply(func=lambda x: x.index[x.argmax()], axis=1)
```

**Visual**:
```
JudeÈ› BUC:  Panificatie: 500, Lactate: 300, Carne: 200
                         â†‘ MAX
Rezultat: "Panificatie"
```

---

### ğŸ”µ **9. SORTAREA**

#### `sort_values(by, ascending, inplace)`
- **INPUT**: ColoanÄƒ/Serie + direcÈ›ie
- **OUTPUT**: Date sortate
- **DE CE**: OrdonÄƒm rezultate (ex: judeÈ›e cu cel mai mare pondere)

```python
serie.sort_values(inplace=True, ascending=False)  # DescrescÄƒtor
```

---

### ğŸ”µ **10. ADÄ‚UGAREA COLOANELOR**

#### `insert(loc, column_name, values)`
- **INPUT**: PoziÈ›ie + nume coloanÄƒ + valori
- **OUTPUT**: DataFrame modificat
- **DE CE**: AdÄƒugÄƒm coloane calculate Ã®n poziÈ›ii specifice

```python
df.insert(0, "Localitate", alte_valori)  # InsereazÄƒ la Ã®nceput (poziÈ›ia 0)
```

---

### ğŸ”µ **11. MEDIE PONDERATÄ‚**

#### `np.average(array, weights)`
- **INPUT**: Array + ponderi (weights)
- **OUTPUT**: Medie ponderatÄƒ
- **DE CE**: CÃ¢nd contribuÈ›iile nu sunt egale (ex: oraÈ™e mari conteazÄƒ mai mult)

```python
def medie_ponderata(t: pd.DataFrame):
    x = t.values
    m = np.average(x[:, :-1],           # toate coloanele minus ultima
                   axis=0,               # pe verticalÄƒ
                   weights=x[:, -1])    # ultima coloanÄƒ = ponderi
    return pd.Series(m, t.columns[:-1])
```

**Visual**:
```
OraÈ™ A: 10 angajaÈ›i, PopulaÈ›ie: 1000
OraÈ™ B: 50 angajaÈ›i, PopulaÈ›ie: 10000
â†’ Medie simplÄƒ: (10+50)/2 = 30 âŒ
â†’ Medie ponderatÄƒ: (10Ã—1000 + 50Ã—10000)/(1000+10000) = 48 âœ…
```

---

### ğŸ”µ **12. EXPORTUL**

#### `to_csv(filepath)`
- **INPUT**: Cale fiÈ™ier destinaÈ›ie
- **OUTPUT**: FiÈ™ier CSV salvat
- **DE CE**: PÄƒstrÄƒm rezultatele pentru rapoarte/analize ulterioare

```python
df.to_csv("data_out/Cerinta1.csv")
```

---

## ğŸ“ PATTERN-URI COMUNE ÃN ANALIZE

### **Pattern 1: Filtrare â†’ Normalizare â†’ Export**
```python
# Filtrare
df_valid = df[conditie]

# Normalizare (procente)
df_norm = df_valid.apply(func=lambda x: x/x.sum(), axis=1)

# CurÄƒÈ›are + Export
df_norm.fillna(0, inplace=True)
df_norm.to_csv("output.csv")
```

### **Pattern 2: Merge â†’ Calcul Pondere â†’ Sortare**
```python
# Combinare date
df_merge = df1.merge(df2, left_index=True, right_index=True)

# Calcul indicator
pondere = df_merge.apply(func=lambda x: x["Metric"]/x["Total"], axis=1)

# Sortare + Export
pondere.sort_values(ascending=False, inplace=True)
pondere.to_csv("output.csv")
```

### **Pattern 3: GroupBy â†’ Agregare â†’ Identificare Max**
```python
# Agregare la nivel superior
df_grupat = df.groupby(by="Categorie").sum()

# Identificare dominant
dominant = df_grupat.apply(func=lambda x: x.index[x.argmax()], axis=1)

# Export
dominant.to_csv("output.csv")
```

---

## ğŸ’¡ CONCEPTE CHEIE

### **1. NORMALIZARE** 
TransformÄƒm valori absolute â†’ procente/proporÈ›ii pentru comparare corectÄƒ
```python
x / x.sum()  # Fiecare valoare / Total
```

### **2. PONDERE**
CÃ¢t reprezintÄƒ o parte din total
```python
angajati / populatie  # Pondere angajaÈ›i Ã®n populaÈ›ie
```

### **3. INDICE DE SPECIALIZARE (Location Quotient)**
ComparÄƒ proporÈ›ia localÄƒ cu proporÈ›ia naÈ›ionalÄƒ
```python
(angajati_judet / total_angajati_judet) / (angajati_national / total_angajati_national)
```
- **> 1**: JudeÈ› specializat Ã®n acea industrie
- **< 1**: JudeÈ› sub-reprezentat

### **4. AXIS Ã®n Pandas**
- **axis=1**: "Pentru fiecare RÃ‚ND, du-te pe orizontalÄƒ È™i calculeazÄƒ..."
- **axis=0**: "Pentru fiecare COLOANÄ‚, du-te pe verticalÄƒ È™i calculeazÄƒ..."

---

## ğŸš€ TIPS PENTRU EXAMEN

1. **VerificÄƒ tipul**: `isinstance(df, pd.DataFrame)` sau `pd.Series`
2. **Debug rapid**: `print(df.head())`, `print(df.columns)`, `print(df.shape)`
3. **ÃnÈ›elege cerinÈ›a**: Vrei aggregate (sum, mean) sau transformare (normalizare)?
4. **VerificÄƒ NaN**: DupÄƒ orice Ã®mpÄƒrÈ›ire, foloseÈ™te `fillna(0)`
5. **Index vs ColoanÄƒ**: Ãn merge, decide dacÄƒ faci join pe index sau pe valori
6. **Lambda functions**: `lambda x: operatie_pe_x` - x este rÃ¢ndul/coloana curentÄƒ

---

## ğŸ“‹ CHECKLIST RAPID

- [ ] Am Ã®ncÄƒrcat toate CSV-urile necesare?
- [ ] Am setat `index_col` corect?
- [ ] Am filtrat datele invalide?
- [ ] Am gestionat NaN dupÄƒ calcule?
- [ ] Am folosit axis-ul corect (0 sau 1)?
- [ ] Am fÄƒcut merge corect (pe ce coloanÄƒ/index)?
- [ ] Am sortat rezultatele dacÄƒ era necesar?
- [ ] Am exportat cu `to_csv()`?

---

**Succes la examen! ğŸ‰** AceastÄƒ schemÄƒ acoperÄƒ toate pattern-urile din codul tÄƒu È™i te pregÄƒteÈ™te pentru cerinÈ›e similare!
